<div class="misson-card">
  <div class="content">
    <div class="edit-title m-b-10">
      <span class="title">Tên công việc :</span>
      <input
        spellcheck="false"
        [(ngModel)]="jobName"
        class="inline-edit-input"
      />
    </div>
    <div class="edit-title m-b-10">
      <span class="title">Đặt thời hạn :</span>
      <nz-range-picker
        [nzShowTime]="{ nzFormat: 'HH:mm' }"
        nzFormat="yyyy-MM-dd HH:mm"
        ngModel
        (ngModelChange)="onChange($event)"
      ></nz-range-picker>
    </div>
    <div class="edit-title m-b-10">
      <span class="title">Phân công :</span>
      <div class="container-button-assignUser">
        <app-modal-assign-person-to-job
          (Assigned)="getAssigned($event)"
        ></app-modal-assign-person-to-job>
      </div>
    </div>
    <div class="edit-title m-b-10">
      <span class="title">Chọn kỳ báo cáo :</span>
      <app-modal-assign-schedule
        (frequencyOutput)="getFrequencySelected($event)"
      ></app-modal-assign-schedule>
    </div>
    <div class="edit-title">
      <span class="title">Nội dung công việc :</span>
      <div style="flex: 1">
        <textarea
          nz-input
          placeholder=""
          [(ngModel)]="task.description"
          [nzAutosize]="{ minRows: 3, maxRows: 10 }"
        ></textarea>
      </div>
    </div>
  </div>
  <div>
    <div class="m-b-10">
      <button
        nz-button
        nzType="primary"
        nz-popover
        nzPopoverTitle="Bạn chắc chắn muốn giao việc ?"
        [nzPopoverContent]="popTplConfirm"
        [(nzPopoverVisible)]="visiblePopoverConfirmGiaoViec"
        nzPopoverTrigger="click"
      >
        Xác nhận giao việc
      </button>
      <ng-template #popTplConfirm>
        <div style="max-width: 200px">
          <p>Hành động này sẽ không thể hoàn tác ?</p>
          <div
            class="custom-footer"
            style="display: flex; justify-content: end; margin-top: 8px"
          >
            <button
              nz-button
              nzSize="small"
              (click)="onCancelConfirmGiaoViec()"
              style="margin-right: 8px"
            >
              Huỷ
            </button>
            <button
              nz-button
              nzType="primary"
              nzSize="small"
              (click)="confirmGiaoViec()"
            >
              Xác nhận
            </button>
          </div>
        </div>
      </ng-template>
    </div>

    <div class="">
      <button
        nz-button
        nz-popconfirm
        nz-popover
        nzType="primary"
        style="background: #b51a1d !important; border-color: #b51a1d !important"
        nzPopoverTitle="Bạn chắc chắn muốn hủy giao việc ?"
        [nzPopoverContent]="popTplCancel"
        [(nzPopoverVisible)]="visiblePopoverConfirmHuyGiaoViec"
        nzPopoverTrigger="click"
      >
        Hủy giao việc
      </button>
      <ng-template #popTplCancel>
        <div style="max-width: 200px">
          <p>Dữ liệu bạn vừa nhập sẽ mất hết ?</p>
          <div
            class="custom-footer"
            style="display: flex; justify-content: end; margin-top: 8px"
          >
            <button
              nz-button
              nzSize="small"
              (click)="onCancelConfirmHuyGiaoViec()"
              style="margin-right: 8px"
            >
              Huỷ
            </button>
            <button
              nz-button
              nzType="primary"
              nzSize="small"
              (click)="confirmHuyGiaoViec()"
            >
              Xác nhận
            </button>
          </div>
        </div>
      </ng-template>
    </div>
  </div>
</div>
