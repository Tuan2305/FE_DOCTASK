                                                                                                                                                                <div class="task-card" (click)="navigateToDetail()">
  <i class="fa-regular fa-clipboard"></i>
  <div class="content">
    <div class="task-title">{{ viecquanly.title }}</div>
    <div class="task-meta">
      <button class="desp-button m-r-10">
        üìÖ
        <ng-container *ngIf="viecquanly.startDate; else dueDate">
          {{ convertDate(viecquanly.startDate) }}
          -
          {{ convertDate(viecquanly.dueDate) }}
        </ng-container>
        <ng-template #dueDate>L·ªói th·ªùi h·∫°n</ng-template>
      </button>
      <div (click)="$event.stopPropagation(); $event.preventDefault()">
        <div class="container-button-content">
          <div class="desp-button" (click)="showModalDesp()">
            <span> üîç N·ªôi dung </span>
          </div>
        </div>
      </div>
      <div class="progress-bar">
        <nz-progress
          [nzPercent]="viecquanly.percentageComplete"
          nzStatus="active"
        ></nz-progress>
      </div>
    </div>
  </div>
  <div class="task-actions">
    <button
      nz-button
      nzType="primary"
      style="
        width: 100%;
        background: #17a2b8 !important;
        border-color: #17a2b8 !important;
      "
      (click)="
        showModalAddChildJob();
        $event.stopPropagation();
        $event.preventDefault()
      "
    >
      Th√™m vi·ªác con
    </button>
    <div>
      <button
        class="m-r-5"
        nz-button
        nzType="primary"
        (click)="
          toggleShowModalTienDo();
          $event.stopPropagation();
          $event.preventDefault()
        "
      >
        Ti·∫øn ƒë·ªô
      </button>
      <button
        style="background: #ffc107 !important; border-color: #ffc107 !important"
        nz-button
        nzType="primary"
        (click)="
          showModalEdit(); $event.stopPropagation(); $event.preventDefault()
        "
      >
        S·ª≠a
      </button>
    </div>
  </div>
</div>

<app-modal-detail-progress-original-job
  *ngIf="isShowModalTienDo"
  [viecGoc]="viecquanly"
  (isShowModal)="closeModalTienDo($event)"
></app-modal-detail-progress-original-job>

<app-modal-detail-despcription-job
  [desp]="viecquanly.description"
></app-modal-detail-despcription-job>
<nz-modal
  [(nzVisible)]="isVisibleModalEdit"
  nzTitle="S·ª≠a c√¥ng vi·ªác"
  (nzOnCancel)="handleCancel()"
  (nzOnOk)="handleEdit()"
  [nzContent]="modalContent"
  [nzFooter]="modalFooter"
>
  <ng-template #modalContent>
    <div class="flex">
      <div class="m-b-5 m-r-10">S·ª≠a t√™n c√¥ng vi·ªác m·ªõi</div>
      <nz-switch
        [(ngModel)]="isEditTitleTask"
        [nzCheckedChildren]="checkedTemplate"
        [nzUnCheckedChildren]="unCheckedTemplate"
      ></nz-switch>
    </div>
    <input
      *ngIf="isEditTitleTask"
      style="width: 60%"
      class="m-b-10"
      nz-input
      placeholder=""
      [(ngModel)]="jobname"
      type="text"
    />
    <!--  -->
    <div class="flex">
      <div class="m-b-5 m-r-10">S·ª≠a n·ªôi dung c√¥ng vi·ªác</div>
      <nz-switch
        [(ngModel)]="isEditDespTask"
        [nzCheckedChildren]="checkedTemplate"
        [nzUnCheckedChildren]="unCheckedTemplate"
      ></nz-switch>
    </div>
    <textarea
      *ngIf="isEditDespTask"
      class="m-b-10"
      rows="4"
      nz-input
      [(ngModel)]="despcriptionJob"
    ></textarea>
    <!--  -->
    <div class="flex">
      <div class="m-b-5 m-r-10">S·ª≠a th·ªùi h·∫°n</div>
      <nz-switch
        [(ngModel)]="isEditDateTimeTask"
        [nzCheckedChildren]="checkedTemplate"
        [nzUnCheckedChildren]="unCheckedTemplate"
      ></nz-switch>
      <ng-template #checkedTemplate><nz-icon nzType="check" /></ng-template>
      <ng-template #unCheckedTemplate><nz-icon nzType="close" /></ng-template>
    </div>
    <nz-range-picker
      *ngIf="isEditDateTimeTask"
      class="m-b-10"
      [nzShowTime]="{ nzFormat: 'HH:mm' }"
      nzFormat="yyyy-MM-dd HH:mm"
      ngModel
      (ngModelChange)="onChange($event)"
    ></nz-range-picker>
    <!--  -->
  </ng-template>
  <ng-template #modalFooter>
    <button nz-button nzType="default" (click)="handleCancel()">H·ªßy b·ªè</button>
    <button
      nz-button
      nzType="primary"
      (click)="handleEdit()"
      [nzLoading]="isOkLoading"
    >
      X√°c nh·∫≠n
    </button>
  </ng-template>
</nz-modal>
<nz-modal
  [(nzVisible)]="isVisibleModalAddJob"
  nzTitle="S·ª≠a c√¥ng vi·ªác"
  (nzOnCancel)="closeModalAddChildJob()"
  [nzContent]="modalContent2"
  [nzFooter]="modalFooter2"
>
  <ng-template #modalContent2>
    <div class="addJob">
      <div class="m-r-10">Th√™m vi·ªác con</div>
    </div>
    <edit-app-misson-item
      [taskIdParent]="viecquanly.taskId"
      (closeEdit)="closeModalAddChildJob()"
    ></edit-app-misson-item>
  </ng-template>
  <ng-template #modalFooter2>
    <button nz-button nzType="default" (click)="closeModalAddChildJob()">
      H·ªßy b·ªè
    </button>
    <!-- <button
      nz-button
      nzType="primary"
      (click)="handleEdit()"
      [nzLoading]="isOkLoading"
    >
      X√°c nh·∫≠n
    </button> -->
  </ng-template>
</nz-modal>
